<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Billing Codes Lookup</title>
    <style>
        :root {
            --color-background: rgba(252, 252, 249, 1);
            --color-surface: rgba(255, 255, 253, 1);
            --color-text: rgba(19, 52, 59, 1);
            --color-text-secondary: rgba(98, 108, 113, 1);
            --color-primary: rgba(33, 128, 141, 1);
            --color-primary-hover: rgba(29, 116, 128, 1);
            --color-border: rgba(94, 82, 64, 0.2);
            --color-card-border: rgba(94, 82, 64, 0.12);
            --color-secondary: rgba(94, 82, 64, 0.12);
            --color-secondary-hover: rgba(94, 82, 64, 0.2);
            --color-success: rgba(33, 128, 141, 1);
            --radius-base: 8px;
            --radius-lg: 12px;
            --space-8: 8px;
            --space-12: 12px;
            --space-16: 16px;
            --space-20: 20px;
            --font-family-base: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --color-background: rgba(31, 33, 33, 1);
                --color-surface: rgba(38, 40, 40, 1);
                --color-text: rgba(245, 245, 245, 1);
                --color-text-secondary: rgba(167, 169, 169, 0.7);
                --color-primary: rgba(50, 184, 198, 1);
                --color-primary-hover: rgba(45, 166, 178, 1);
                --color-border: rgba(119, 124, 124, 0.3);
                --color-card-border: rgba(119, 124, 124, 0.2);
                --color-secondary: rgba(119, 124, 124, 0.15);
                --color-secondary-hover: rgba(119, 124, 124, 0.25);
            }
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-family-base);
            background-color: var(--color-background);
            color: var(--color-text);
            padding: var(--space-16);
            line-height: 1.5;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        h1 {
            font-size: 24px;
            margin-bottom: var(--space-20);
            color: var(--color-text);
        }

        .controls {
            display: flex;
            flex-direction: column;
            gap: var(--space-12);
            margin-bottom: var(--space-20);
        }

        @media (min-width: 640px) {
            .controls {
                flex-direction: row;
            }
        }

        .control-group {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        label {
            font-size: 12px;
            font-weight: 500;
            margin-bottom: var(--space-8);
            color: var(--color-text);
        }

        input, select {
            width: 100%;
            padding: var(--space-8) var(--space-12);
            font-size: 14px;
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            background-color: var(--color-surface);
            color: var(--color-text);
            font-family: var(--font-family-base);
        }

        input:focus, select:focus {
            outline: 2px solid var(--color-primary);
            border-color: var(--color-primary);
        }

        select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 16px;
            padding-right: 40px;
        }

        @media (prefers-color-scheme: dark) {
            select {
                background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            }
        }

        .results-container {
            display: flex;
            flex-direction: column;
            gap: var(--space-12);
        }

        .procedure-card {
            background-color: var(--color-surface);
            border: 1px solid var(--color-card-border);
            border-radius: var(--radius-lg);
            padding: var(--space-16);
            transition: box-shadow 0.2s ease;
        }

        .procedure-card:hover {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .procedure-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: var(--space-12);
            flex-wrap: wrap;
            gap: var(--space-8);
        }

        .procedure-title {
            font-weight: 600;
            font-size: 16px;
            color: var(--color-text);
        }

        .category-badge {
            font-size: 11px;
            padding: 4px 8px;
            background-color: var(--color-secondary);
            border-radius: 4px;
            color: var(--color-text);
        }

        .codes-section {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-8);
            margin-bottom: var(--space-12);
        }

        .code-chip {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            background-color: var(--color-primary);
            color: white;
            border-radius: var(--radius-base);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s ease;
            user-select: none;
        }

        .code-chip:hover {
            background-color: var(--color-primary-hover);
        }

        .code-chip:active {
            transform: scale(0.98);
        }

        .code-label {
            font-size: 11px;
            opacity: 0.9;
        }

        .procedure-details {
            font-size: 14px;
            color: var(--color-text-secondary);
            line-height: 1.6;
        }

        .detail-row {
            display: flex;
            gap: var(--space-8);
            margin-bottom: 4px;
        }

        .detail-label {
            font-weight: 500;
            min-width: 60px;
        }

        .notes {
            margin-top: var(--space-8);
            padding: var(--space-8);
            background-color: var(--color-secondary);
            border-radius: var(--radius-base);
            font-size: 13px;
            color: var(--color-text-secondary);
        }

        .no-results {
            text-align: center;
            padding: var(--space-20);
            color: var(--color-text-secondary);
            font-size: 14px;
        }

        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background-color: var(--color-success);
            color: white;
            padding: 12px 24px;
            border-radius: var(--radius-base);
            font-size: 14px;
            font-weight: 500;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Billing Codes Lookup</h1>

        <p class="header-link">
            To go to the latest Physician's Manual <a href="https://www.gov.mb.ca/health/manual/" target="_blank" rel="noopener noreferrer">click here</a>.
        </p> 
        
        <div class="controls">
            <div class="control-group">
                <label for="search">Search procedures</label>
                <input type="text" id="search" placeholder="Search by procedure or code...">
            </div>
            <div class="control-group">
                <label for="category">Filter by category</label>
                <select id="category">
                    <option value="all">All Categories</option>
                </select>
            </div>
        </div>

        <div class="results-container" id="results"></div>
        <div class="toast" id="toast"></div>
    </div>

    <script>
        const billingData = [{"Category": "Gallbladder", "Procedure": "Cholecystectomy", "Code": "3515", "Fee": "624.43", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Appendix", "Procedure": "Appendectomy", "Code": "3261", "Fee": "487.31", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Appendix", "Procedure": "Perforated appendectomy", "Code": "3262", "Fee": "487.31", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Appendix", "Procedure": "Appendix Abscess drainage", "Code": "3251", "Fee": "348.76", "BMI code": 21.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Appendix", "Procedure": "Appendectomy with drainage of abscess", "Code": "3263", "Fee": "508.64", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Hernia", "Procedure": "Epigastric Hernia, Initial", "Code": "3663", "Fee": "330.37", "BMI code": 21.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Hernia", "Procedure": "Epigastric Hernia, Recurrent", "Code": "3664", "Fee": "377.59", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Hernia", "Procedure": "Umbilical Hernia Repair", "Code": "3666", "Fee": "380.87", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Hernia", "Procedure": "Ventral Hernia", "Code": "3661", "Fee": "643.12", "BMI code": 22.0, "Lap code": "n/a", "Notes": "includes LOA"}, {"Category": "Hernia", "Procedure": "Massive Ventral / Incisional Hernia", "Code": "3660", "Fee": "765.28", "BMI code": 23.0, "Lap code": "n/a", "Notes": "includes LOA; Consider billing by report for component separation"}, {"Category": "Hernia", "Procedure": "Vertical Panniculectomy (vertical 15 to 30cm)", "Code": "3596", "Fee": "694.16", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Needs prior approval"}, {"Category": "Hernia", "Procedure": "Vertical Panniculectomy (vertical skin over 30cm)", "Code": "3597", "Fee": "1081.18", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Needs prior approval"}, {"Category": "Hernia", "Procedure": "Inguinal Hernia", "Code": "3631", "Fee": "422.23", "BMI code": 22.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Hernia", "Procedure": "Recurrent Inguinal hernia", "Code": "3635", "Fee": "545.66", "BMI code": 22.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Hernia", "Procedure": "Femoral hernia", "Code": "3646", "Fee": "422.23", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Hernia", "Procedure": "Femoral hernia, recurrent", "Code": "3651", "Fee": "520", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Foregut", "Procedure": "Hiatus Hernia or anti-reflux surgery (fundoplication)", "Code": "3710", "Fee": "869.75", "BMI code": 23.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Foregut", "Procedure": "Hiatus hernia repair, greater than 50% of the stomach intrathoracic", "Code": "3069", "Fee": "1560.6", "BMI code": 24.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Foregut", "Procedure": "Diaphragm Hernia, excludes anti-reflux surgery", "Code": "3708", "Fee": "1035.76", "BMI code": 23.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Foregut", "Procedure": "Diaphragm hernia with prosthesis - Add", "Code": "3706", "Fee": "278.78", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Stomach", "Procedure": "Repair of perforated gastric ulcer", "Code": "3141", "Fee": "726", "BMI code": 22.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Stomach", "Procedure": "Repair of gastric laceration", "Code": "3142", "Fee": "726", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Stomach", "Procedure": "Gastrostomy", "Code": "3137", "Fee": "516.71", "BMI code": 22.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Stomach", "Procedure": "Gastrojejunostomy", "Code": "3135", "Fee": "628.43", "BMI code": 22.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Stomach", "Procedure": "Subtotal gastrectomy (less than 2/3)", "Code": "3115", "Fee": "1225.03", "BMI code": 23.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Stomach", "Procedure": "Removal of gastric foreign body by gastrotomy", "Code": "3101", "Fee": "537.91", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Small Intestine", "Procedure": "Enterotomy to remove foreign body", "Code": "3161", "Fee": "643.46", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Small Intestine", "Procedure": "Repair of perforated duodenal ulcer", "Code": "3141", "Fee": "726", "BMI code": 22.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Small Intestine", "Procedure": "Small bowel obstruction, nonresective", "Code": "3201", "Fee": "724.79", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Small Intestine", "Procedure": "Ileostomy", "Code": "3193", "Fee": "639.17", "BMI code": 22.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Small Intestine", "Procedure": "Ileostomy - full thickness revision", "Code": "3204", "Fee": "558.56", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Small Intestine", "Procedure": "Ileostomy - skin level revision", "Code": "3203", "Fee": "239.17", "BMI code": 21.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Small Intestine", "Procedure": "Mesentery suture", "Code": "3241", "Fee": "546.48", "BMI code": 22.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Small Intestine", "Procedure": "Enteroanastomosis", "Code": "3191", "Fee": "697.05", "BMI code": 22.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Small Intestine", "Procedure": "Small bowel resection", "Code": "3174", "Fee": "817.32", "BMI code": 23.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Small Intestine", "Procedure": "Massive small bowel resection (greater than 50%)", "Code": "3175", "Fee": "934.52", "BMI code": 23.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Small Intestine", "Procedure": "Meckel's resection", "Code": "3231", "Fee": "655.96", "BMI code": 22.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Colon", "Procedure": "Colotomy to remove foreign body", "Code": "3162", "Fee": "639.31", "BMI code": 22.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Colon", "Procedure": "Colostomy", "Code": "3195", "Fee": "540.32", "BMI code": 22.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Colon", "Procedure": "Suture of colon laceration/perforation/rupture", "Code": "3221", "Fee": "589.92", "BMI code": "", "Lap code": "", "Notes": ""}, {"Category": "Colon", "Procedure": "Colostomy, simple revision", "Code": "3203", "Fee": "239.17", "BMI code": 21.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Colon", "Procedure": "Colostomy, full thickness revision", "Code": "3204", "Fee": "558.56", "BMI code": 21.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Colon", "Procedure": "Closure of loop colostomy (no bowel resection)", "Code": "3225", "Fee": "590.5", "BMI code": 22.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Colon", "Procedure": "Hartmann reversal", "Code": "3224", "Fee": "1126.93", "BMI code": 23.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Colon", "Procedure": "Partial Colectomy", "Code": "3179", "Fee": "1039.4", "BMI code": 23.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Colon", "Procedure": "Total colectomy", "Code": "3180", "Fee": "1438.5", "BMI code": 23.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Rectum", "Procedure": "Anterior resection", "Code": "3290", "Fee": "1286.77", "BMI code": 23.0, "Lap code": 3540.0, "Notes": "Technically the anast needs to be below peritoneal reflection"}, {"Category": "Rectum", "Procedure": "Closure of bladder fistula", "Code": "3965", "Fee": "593.83", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Rectum", "Procedure": "Closure of bladder fistula and colostomy, add", "Code": "3925", "Fee": "113.88", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Rectum", "Procedure": "Closure of rectovaginal fistula", "Code": "3335", "Fee": "448.28", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Anus", "Procedure": "External hemorrhoids - evacuation of thrombus", "Code": "3392", "Fee": "57.79", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Minor Tray fee - 0003"}, {"Category": "Anus", "Procedure": "Perianal abscess", "Code": "3283", "Fee": "127.51", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Major Tray fee - 0001"}, {"Category": "Anus", "Procedure": "Ischiorectal abscess", "Code": "3357", "Fee": "205.54", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Major Tray fee - 0001"}, {"Category": "Anus", "Procedure": "Sphincterotomy", "Code": "3364", "Fee": "263.45", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Anus", "Procedure": "Fistulotomy, subcutaneous", "Code": "3353", "Fee": "285.16", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Anus", "Procedure": "Fistulotomy, submuscular", "Code": "3356", "Fee": "344.71", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Anus", "Procedure": "Removal of seton in office", "Code": "3318", "Fee": "15.45", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Anus", "Procedure": "Removal of skin tag", "Code": "3395", "Fee": "68.41", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Minor tray fee - 0003"}, {"Category": "Anus", "Procedure": "Rubber band ligation", "Code": "3397", "Fee": "59.26", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Minor tray fee - 0003"}, {"Category": "Anus", "Procedure": "Sclerotherapy", "Code": "3401", "Fee": "46.82", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Minor tray fee - 0003"}, {"Category": "Anus", "Procedure": "External hemorrhoidectomy", "Code": "3377", "Fee": "148", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Major Tray fee - 0001"}, {"Category": "Anus", "Procedure": "Internal Hemorrhoidectomy", "Code": "3380", "Fee": "338.77", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Trauma", "Procedure": "Chest tube insertion", "Code": "2157", "Fee": "124.62", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Trauma", "Procedure": "Repair of peripheral vessel by suture", "Code": "2593", "Fee": "505.16", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Trauma", "Procedure": "Suture of major vessel", "Code": "2552", "Fee": "591.91", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Modifier", "Procedure": "Lysis of adhesions, first full 30 minutes", "Code": "3500", "Fee": "214.5", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Dictate total time of surgical case and total time spent performing LOA"}, {"Category": "Modifier", "Procedure": "Lysis of adhesions, each additional 15 minutes", "Code": "3501", "Fee": "107.25", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Misc", "Procedure": "Nerve block", "Code": "2649", "Fee": "15.55", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Misc", "Procedure": "Local anesthetic", "Code": "40000", "Fee": "3.89", "BMI code": "n/a", "Lap code": "n/a", "Notes": "I'm not sure this code ever goes through…"}, {"Category": "Skin", "Procedure": "Pilonidal cyst excision - packing or primary closure", "Code": "0258", "Fee": "320.83", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Skin", "Procedure": "Adjacent Tissue Transfer - Trunk up to 6 sqcm", "Code": "0286", "Fee": "258.31", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Major tray fee - 0001"}, {"Category": "Skin", "Procedure": "Adjacent Tissue Transfer - Trunk 6-19 sqcm", "Code": "0287", "Fee": "416.83", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Skin", "Procedure": "Adjacent Tissue Transfer - Trunk > 19sqcm", "Code": "by report", "Fee": "by report", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Skin", "Procedure": "Excision of skin lesion", "Code": "0253", "Fee": "57.5", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Major tray fee - 0001"}, {"Category": "Skin", "Procedure": "Debridement of necrotizing soft tissue infection, 15 minutes uits", "Code": "0261", "Fee": "143.07", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Skin", "Procedure": "Punch biopsy or skin biopsy", "Code": "0171", "Fee": "33.28", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Major tray fee - 0001"}, {"Category": "Spleen", "Procedure": "Splenectomy", "Code": "2601", "Fee": "751.69", "BMI code": 23.0, "Lap code": 3540.0, "Notes": ""}, {"Category": "Breast", "Procedure": "Breast abscess, superficial", "Code": "0114", "Fee": "36.31", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Breast", "Procedure": "Breast abscess, deep", "Code": "0431", "Fee": "147.42", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Breast", "Procedure": "Excision of breast cyst or fibroadenoma", "Code": "0445", "Fee": "191.09", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Breast", "Procedure": "Excision of breast cyst or fibroadenoma, bilateral", "Code": "0444", "Fee": "340.57", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Breast", "Procedure": "Wire guided breast biopsy", "Code": "0437", "Fee": "304.57", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Breast", "Procedure": "Lumpectomy for malignancy", "Code": "0442", "Fee": "297.65", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Breast", "Procedure": "Sentinel node biopsy", "Code": "0438", "Fee": "551.8", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Breast", "Procedure": "Lumpectomy and ALND", "Code": "0443", "Fee": "819.92", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Breast", "Procedure": "Simple mastectomy", "Code": "0457", "Fee": "451.17", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Breast", "Procedure": "Modified Radical Mastectomy", "Code": "0471", "Fee": "866.33", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Breast", "Procedure": "ALND alone", "Code": "2658", "Fee": "585.19", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Skin", "Procedure": "Superficial I&D", "Code": "0101", "Fee": "46.71", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Superficial localized infection such as steatoma, furuncle, boil, paronychia, felon, pilonidal abscess—incision and drainage"}, {"Category": "Skin", "Procedure": "Pilonidal cyst excision and plastic closure", "Code": "0247", "Fee": "333.8", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Abdomen", "Procedure": "Diagnostic Laparoscopy", "Code": "3572", "Fee": "197.39", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Abdomen", "Procedure": "Diagnostic laparoscopy + open abdominal operation", "Code": "3574", "Fee": "192.4", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Abdomen", "Procedure": "Lap converted to open", "Code": "3579", "Fee": "192.4", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Trauma", "Procedure": "Abdominal Lavage for Trauma", "Code": "3589", "Fee": "50.07", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Trauma", "Procedure": "Laparotomy for Trauma", "Code": "3577", "Fee": "688.44", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Abdomen", "Procedure": "Exploratory Laparotomy", "Code": "3571", "Fee": "470.89", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Abdomen", "Procedure": "Second look for ischemic bowel", "Code": "3594", "Fee": "429.07", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Abdomen", "Procedure": "Intra-abdominal abscess", "Code": "3573", "Fee": "488.42", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Abdomen", "Procedure": "Subphrenic abdominal abscess", "Code": "3575", "Fee": "596.5", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Abdomen", "Procedure": "Transrectal abscess drainage", "Code": "3285", "Fee": "225.72", "BMI code": 21.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Abdomen", "Procedure": "Suture of wound disruption", "Code": "3734", "Fee": "450.43", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Hernia", "Procedure": "Incarcerated hernia without bowel resection", "Code": "3633", "Fee": "545.91", "BMI code": 22.0, "Lap code": "n/a", "Notes": ""}, {"Category": "Communication", "Procedure": "Communication initiated by other provider", "Code": "8000", "Fee": "16.25", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Can use for home care correspondence - include \"home care\" and time of day in claim"}, {"Category": "Conference", "Procedure": "Patient Care Family Conference", "Code": "8473", "Fee": "40.47", "BMI code": "n/a", "Lap code": "n/a", "Notes": "12 x 15 minutes session per year"}, {"Category": "Communication", "Procedure": "Communication to other healthcare provider (telephone, fax, email)", "Code": "8001", "Fee": "25", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Communication", "Procedure": "EDS approval", "Code": "8003", "Fee": "16.91", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Can't be done by proxy, must document in chart, max 5 communications/patient over 30 days"}, {"Category": "Hospital", "Procedure": "Blood thinner / anticoagulatoin recommendations", "Code": "8002", "Fee": "18.44", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Where the hospital in-patient has undergone major surgery, and where it is the surgeon who is responsible for monitoring the condition of the patient with respect to the anticoagulant therapy for the majority of that particular month, the surgeon may claim this tariff, despite the fact that the service date may fall within the three-week post operative period."}, {"Category": "Communication", "Procedure": "Pharmacy Communication", "Code": "8005", "Fee": "16.91", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Consult", "Procedure": "Telephone consult - consultant", "Code": "8355", "Fee": "50", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Consult", "Procedure": "Telephone consult - referring md", "Code": "8356", "Fee": "25", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Consult", "Procedure": "Interfacility transfer", "Code": "8331", "Fee": "50", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Can't be if sent from St. B or HSC"}, {"Category": "Clinic", "Procedure": "Consultation", "Code": "8550", "Fee": "139.3", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Clinic", "Procedure": "Regional History or Subsequent visit", "Code": "8403", "Fee": "33.75", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Clinic", "Procedure": "H&P", "Code": "8540", "Fee": "63.26", "BMI code": "n/a", "Lap code": "n/a", "Notes": "> 60 days"}, {"Category": "Clinic", "Procedure": "Debridement of wound not on lower extremity", "Code": "0479", "Fee": "72.83", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Clinic", "Procedure": "Dressing for wounds not due to burns", "Code": "0436", "Fee": "36.41", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Clinic", "Procedure": "Removal of sutures/staples", "Code": "0252", "Fee": "18.21", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Clinic", "Procedure": "Community-Based Supplement", "Code": "8380", "Fee": "3.64", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Conference", "Procedure": "Case Management (eg: Tumour Boards)", "Code": "8474", "Fee": "42.11", "BMI code": "n/a", "Lap code": "n/a", "Notes": "max 1 hr, 3 per patient per year"}, {"Category": "Hospital", "Procedure": "H&P", "Code": "8540", "Fee": "63.26", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Hospital", "Procedure": "Consult", "Code": "8550", "Fee": "139.3", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Hospital", "Procedure": "Consult-unassigned", "Code": "8595", "Fee": "192.61", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Hospital", "Procedure": "Regional History / Subsequent Visit", "Code": "8510", "Fee": "33.9", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Can bill with OR on call or cancer case"}, {"Category": "Hospital", "Procedure": "Hospital care", "Code": "8520", "Fee": "35.92", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Hospital", "Procedure": "Concomitant Care", "Code": "8524", "Fee": "35.92", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Special Call", "Procedure": "ED or OPD of a hospital", "Code": "8598", "Fee": "55.96", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Special Call", "Procedure": "non-elective in postop period", "Code": "8567", "Fee": "55.96", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Special Call", "Procedure": "to the OR or to office", "Code": "8563", "Fee": "55.96", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "After Hours", "Procedure": "1700-2359", "Code": "5555", "Fee": "50%", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "After Hours", "Procedure": "weekends and holidays", "Code": "5550", "Fee": "50%", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "After Hours", "Procedure": "2400-0700", "Code": "5553", "Fee": "75%", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Clinic", "Procedure": "Virtual Consult", "Code": "8535", "Fee": "139.3", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Clinic", "Procedure": "Virtual visit", "Code": "8321", "Fee": "33.75", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Clinic", "Procedure": "Comprehensive virtual visit", "Code": "8447", "Fee": "63.26", "BMI code": "n/a", "Lap code": "n/a", "Notes": "> 60 days"}, {"Category": "Upper Endoscopy", "Procedure": "EGD", "Code": "3123", "Fee": "135.97", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Upper Endoscopy", "Procedure": "EGD + polypectomy", "Code": "3122", "Fee": "216.46", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Upper Endoscopy", "Procedure": "EGD with foreign body removal", "Code": "3057", "Fee": "196.19", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Upper Endoscopy", "Procedure": "Push enteroscopy", "Code": "3190", "Fee": "241.69", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Lower Endoscopy", "Procedure": "Colonoscopy", "Code": "3185", "Fee": "205.96", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Lower Endoscopy", "Procedure": "Colonoscopy + biopsy", "Code": "3186", "Fee": "216.16", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Lower Endoscopy", "Procedure": "Colonoscopy with polypectomy snare", "Code": "3187", "Fee": "314.39", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Lower Endoscopy", "Procedure": "Colonoscopy with polypectomy using cauteruy", "Code": "3189", "Fee": "314.39", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Lower Endoscopy", "Procedure": "Extra polyp", "Code": "3188", "Fee": "76.07", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Can add to 3187 or 3189. Max 4"}, {"Category": "Lower Endoscopy", "Procedure": "TI intubation", "Code": "3196", "Fee": "22.28", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Must be symptomatic (abd pain, diarrhea, bleeding etc)"}, {"Category": "Lower Endoscopy", "Procedure": "Flex sig - 25-65cm", "Code": "3320", "Fee": "87.29", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Lower Endoscopy", "Procedure": "Flex sig with removal of single polyp", "Code": "3323", "Fee": "115.48", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Lower Endoscopy", "Procedure": "Flex sig - additional polyp", "Code": "3324", "Fee": "45.44", "BMI code": "n/a", "Lap code": "n/a", "Notes": "Up to 4 extra polyps"}, {"Category": "Lower Endoscopy", "Procedure": "Flex sig < 25cm", "Code": "3311", "Fee": "57.43", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Lower Endoscopy", "Procedure": "Flex sig < 25cm with biopsy", "Code": "3313", "Fee": "66.22", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Upper Endoscopy", "Procedure": "10+ biopsies", "Code": "3013", "Fee": "39.41", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Lower Endoscopy", "Procedure": "Flex sig < 25cm with removal of single lesion", "Code": "3315", "Fee": "92.37", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Lower Endoscopy", "Procedure": "Flex sig < 25cm with removal of multiple lesions", "Code": "3317", "Fee": "114.69", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Endo Modifiers", "Procedure": "Balloon dilation", "Code": "3000", "Fee": "106.66", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Endo Modifiers", "Procedure": "Botox Injection", "Code": "3002", "Fee": "3002", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Endo Modifiers", "Procedure": "Hemostasis", "Code": "3004", "Fee": "123.05", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Endo Modifiers", "Procedure": "Hemodynamic instability", "Code": "3006", "Fee": "56.28", "BMI code": "n/a", "Lap code": "n/a", "Notes": "one or more of:  HR>100, BP< 80, Hb<80, ongoing bleeding"}, {"Category": "Endo Modifiers", "Procedure": "Placement of postpyloric feeding tube", "Code": "3008", "Fee": "86.48", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Lower Endoscopy", "Procedure": "10 or more biopsies", "Code": "3012", "Fee": "64.82", "BMI code": "n/a", "Lap code": "n/a", "Notes": "For upper gi, use 3013"}, {"Category": "Abdomen", "Procedure": "Unlisted or Unusually Complicated", "Code": "3619", "Fee": "By Report", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Lower Endoscopy", "Procedure": "Flex Sig and removal of foreign body or hemorrhage control", "Code": "3319", "Fee": "By Report", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}, {"Category": "Upper Endoscopy", "Procedure": "EGD with injection or band ligation of varices", "Code": "3065", "Fee": "221.82", "BMI code": "n/a", "Lap code": "n/a", "Notes": ""}];;

        const searchInput = document.getElementById('search');
        const categorySelect = document.getElementById('category');
        const resultsContainer = document.getElementById('results');
        const toast = document.getElementById('toast');

        let filteredData = billingData;

        // Populate category dropdown
        const categories = [...new Set(billingData.map(item => item.Category).filter(cat => cat && cat !== 'n/a'))].sort();
        categories.forEach(category => {
            const option = document.createElement('option');
            option.value = category;
            option.textContent = category;
            categorySelect.appendChild(option);
        });

        function filterData() {
            const searchTerm = searchInput.value.toLowerCase();
            const selectedCategory = categorySelect.value;

            filteredData = billingData.filter(item => {
                const matchesSearch = !searchTerm || 
                    item.Procedure.toLowerCase().includes(searchTerm) ||
                    String(item.Code).toLowerCase().includes(searchTerm) ||
                    (item.Notes && item.Notes !== 'n/a' && item.Notes.toLowerCase().includes(searchTerm));
                
                const matchesCategory = selectedCategory === 'all' || item.Category === selectedCategory;

                return matchesSearch && matchesCategory;
            });

            renderResults();
        }

        function renderResults() {
            if (filteredData.length === 0) {
                resultsContainer.innerHTML = '<div class="no-results">No procedures found matching your search.</div>';
                return;
            }

            resultsContainer.innerHTML = filteredData.map(item => {
                const hasBMI = item['BMI code'] !== 'n/a' && item['BMI code'] !== null;
                const hasLap = item['Lap code'] !== 'n/a' && item['Lap code'] !== null;
                const hasNotes = item.Notes !== 'n/a' && item.Notes !== null;

                return `
                    <div class="procedure-card">
                        <div class="procedure-header">
                            <div class="procedure-title">${item.Procedure}</div>
                            ${item.Category && item.Category !== 'n/a' ? `<div class="category-badge">${item.Category}</div>` : ''}
                        </div>
                        
                        <div class="codes-section">
                            <div class="code-chip" onclick="copyCode('${item.Code}', 'Code')">
                                <span class="code-label">Code:</span>
                                <span>${item.Code}</span>
                            </div>
                            ${hasBMI ? `
                                <div class="code-chip" onclick="copyCode('${item['BMI code']}', 'BMI Code')">
                                    <span class="code-label">BMI:</span>
                                    <span>${item['BMI code']}</span>
                                </div>
                            ` : ''}
                            ${hasLap ? `
                                <div class="code-chip" onclick="copyCode('${item['Lap code']}', 'Lap Code')">
                                    <span class="code-label">Lap:</span>
                                    <span>${item['Lap code']}</span>
                                </div>
                            ` : ''}
                        </div>

                        <div class="procedure-details">
                            <div class="detail-row">
                                <span class="detail-label">Fee:</span>
                                <span>${item.Fee}</span>
                            </div>
                        </div>

                        ${hasNotes ? `<div class="notes">${item.Notes}</div>` : ''}
                    </div>
                `;
            }).join('');
        }

        function copyCode(code, label) {
            const textArea = document.createElement('textarea');
            textArea.value = code;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            document.body.appendChild(textArea);
            textArea.select();
            
            try {
                document.execCommand('copy');
                showToast(`${label} ${code} copied to clipboard`);
            } catch (err) {
                showToast('Failed to copy code');
            }
            
            document.body.removeChild(textArea);
        }

        function showToast(message) {
            toast.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }

        searchInput.addEventListener('input', filterData);
        categorySelect.addEventListener('change', filterData);

        // Initial render
        renderResults();
    </script>
</body>
</html>
